{"ast":null,"code":"// 스케줄 표 컴포넌트\nimport{useState,useMemo,useEffect}from'react';import ScheduleTable from'../Components/ScheduleTable';import{GetCalData}from'../Utils/GetCalender';import{GetSchedule}from'../Utils/GetSchedule';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SchedulePage(){const[Workers,setWorkers]=useState([]);const[currentDate,setCurrentDate]=useState(new Date());const[monthDetails,setMonthDetails]=useState([]);const currentYear=currentDate.getFullYear();const currentMonth=currentDate.getMonth();// 0-11\nuseEffect(()=>{async function getWorkers(){const result=await fetch(\"/DB/getWorkers\");console.dir(result);const data=await result;console.dir(data);setWorkers(data);}getWorkers();},[]);useEffect(()=>{const fetchData=async()=>{const temp=await GetCalData(currentYear,currentMonth);setMonthDetails(temp);};fetchData();},[currentYear,currentMonth]);const scheduleData=useMemo(()=>{return GetSchedule(Workers,monthDetails.length,currentYear,currentMonth);},[monthDetails]);const goToPreviousMonth=()=>{setCurrentDate(new Date(currentYear,currentMonth-1,1));};const goToNextMonth=()=>{setCurrentDate(new Date(currentYear,currentMonth+1,1));};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 min-h-screen font-sans\",children:/*#__PURE__*/_jsx(\"main\",{className:\"p-4 sm:p-6 lg:p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousMonth,className:\"p-2 rounded-full hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl sm:text-2xl font-bold text-gray-800 w-40 sm:w-48 text-center mx-2\",children:[currentYear,\"\\uB144 \",currentMonth+1,\"\\uC6D4\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:goToNextMonth,className:\"p-2 rounded-full hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5l7 7-7 7\"})})})]}),/*#__PURE__*/_jsx(ScheduleTable,{monthDetails:monthDetails,Workers:Workers,scheduleData:scheduleData}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center justify-end space-x-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full bg-blue-100 mr-2 border border-blue-300\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC8FC\\uAC04/\\uC57C\\uAC04\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full bg-gray-200 mr-2 border border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD734\\uBB34\"})]})]})]})})});}export default SchedulePage;","map":{"version":3,"names":["useState","useMemo","useEffect","ScheduleTable","GetCalData","GetSchedule","jsx","_jsx","jsxs","_jsxs","SchedulePage","Workers","setWorkers","currentDate","setCurrentDate","Date","monthDetails","setMonthDetails","currentYear","getFullYear","currentMonth","getMonth","getWorkers","result","fetch","console","dir","data","fetchData","temp","scheduleData","length","goToPreviousMonth","goToNextMonth","className","children","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["/Users/HJ/Desktop/projectes/Renew_schedule/renew_schdule/client/src/pages/SchedulePage.jsx"],"sourcesContent":["// 스케줄 표 컴포넌트\nimport { useState, useMemo, useEffect } from 'react'\nimport ScheduleTable from '../Components/ScheduleTable'\nimport { GetCalData } from '../Utils/GetCalender'\nimport { GetSchedule } from '../Utils/GetSchedule'\n\nfunction SchedulePage() {\n  const [Workers, setWorkers] = useState([])\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [monthDetails, setMonthDetails] = useState([])\n\n  const currentYear = currentDate.getFullYear()\n  const currentMonth = currentDate.getMonth() // 0-11\n\n  useEffect(() => {\n    async function getWorkers() {\n      const result = await fetch(`/DB/getWorkers`)\n      console.dir(result)\n      const data = await result\n      console.dir(data)\n\n      setWorkers(data)\n    }\n    getWorkers()\n  }, [])\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const temp = await GetCalData(currentYear, currentMonth)\n      setMonthDetails(temp)\n    }\n    fetchData()\n  }, [currentYear, currentMonth])\n\n  const scheduleData = useMemo(() => {\n    return GetSchedule(Workers, monthDetails.length, currentYear, currentMonth)\n  }, [monthDetails])\n\n  const goToPreviousMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth - 1, 1))\n  }\n\n  const goToNextMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth + 1, 1))\n  }\n\n  return (\n    <div className='bg-gray-50 min-h-screen font-sans'>\n      <main className='p-4 sm:p-6 lg:p-8'>\n        <div className='max-w-7xl mx-auto'>\n          <div className='flex justify-center items-center mb-6'>\n            <button\n              onClick={goToPreviousMonth}\n              className='p-2 rounded-full hover:bg-gray-200 transition-colors'\n            >\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                className='h-6 w-6 text-gray-600'\n                fill='none'\n                viewBox='0 0 24 24'\n                stroke='currentColor'\n              >\n                <path\n                  strokeLinecap='round'\n                  strokeLinejoin='round'\n                  strokeWidth='2'\n                  d='M15 19l-7-7 7-7'\n                />\n              </svg>\n            </button>\n            <h1 className='text-xl sm:text-2xl font-bold text-gray-800 w-40 sm:w-48 text-center mx-2'>\n              {currentYear}년 {currentMonth + 1}월\n            </h1>\n            <button\n              onClick={goToNextMonth}\n              className='p-2 rounded-full hover:bg-gray-200 transition-colors'\n            >\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                className='h-6 w-6 text-gray-600'\n                fill='none'\n                viewBox='0 0 24 24'\n                stroke='currentColor'\n              >\n                <path\n                  strokeLinecap='round'\n                  strokeLinejoin='round'\n                  strokeWidth='2'\n                  d='M9 5l7 7-7 7'\n                />\n              </svg>\n            </button>\n          </div>\n\n          <ScheduleTable\n            monthDetails={monthDetails}\n            Workers={Workers}\n            scheduleData={scheduleData}\n          />\n\n          <div className='mt-6 flex items-center justify-end space-x-4 text-sm text-gray-600'>\n            <div className='flex items-center'>\n              <span className='w-4 h-4 rounded-full bg-blue-100 mr-2 border border-blue-300'></span>\n              <span>주간/야간</span>\n            </div>\n            <div className='flex items-center'>\n              <span className='w-4 h-4 rounded-full bg-gray-200 mr-2 border border-gray-300'></span>\n              <span>휴무</span>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default SchedulePage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}