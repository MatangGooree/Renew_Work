{"ast":null,"code":"// 스케줄 표 컴포넌트\nimport{useState,useMemo,useEffect,useCallback}from'react';import ScheduleTable from'../Components/ScheduleTable';import{useAuth}from'../Contexts/Auth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SchedulePage(){const{user}=useAuth();const[currentDate,setCurrentDate]=useState(new Date());const[scheduleData,setScheduleData]=useState(null);const getWorkers=useCallback(async params=>{const result=await fetch(\"/api/getSchedule?\".concat(params));const data=await result.json();console.dir(data);setScheduleData(data);},[]);useEffect(()=>{const params=new URLSearchParams({year:currentDate.getFullYear(),month:currentDate.getMonth()+1});getWorkers(params);},[currentDate]);const goToPreviousMonth=()=>{setCurrentDate(new Date(currentDate.getFullYear(),currentDate.getMonth()-1,1));};const goToNextMonth=()=>{setCurrentDate(new Date(currentDate.getFullYear(),currentDate.getMonth()+1,1));};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 min-h-screen font-sans\",children:/*#__PURE__*/_jsx(\"main\",{className:\"p-4 sm:p-6 lg:p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousMonth,className:\"p-2 rounded-full hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl sm:text-2xl font-bold text-gray-800 w-40 sm:w-48 text-center mx-2\",children:[currentDate.getFullYear(),\"\\uB144 \",currentDate.getMonth()+1,\"\\uC6D4\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:goToNextMonth,className:\"p-2 rounded-full hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5l7 7-7 7\"})})})]}),/*#__PURE__*/_jsx(ScheduleTable,{scheduleData:scheduleData,getWorkers:getWorkers}),user&&user.id<4&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex items-center justify-end space-x-4 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full mr-2 border \".concat(scheduleData&&scheduleData.WorkerData[parseInt(user.id)].remain_Day>=0?'bg-blue-100':'bg-red-100',\" border-blue-300\")}),scheduleData&&/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(scheduleData.WorkerData[parseInt(user.id)].remain_Day>=0?'사용 가능한 대체 휴무 : '+scheduleData.WorkerData[parseInt(user.id)].remain_Day:'해야 할 대체 근무 : '+-scheduleData.WorkerData[parseInt(user.id)].remain_Day)})]})})]})})});}export default SchedulePage;","map":{"version":3,"names":["useState","useMemo","useEffect","useCallback","ScheduleTable","useAuth","jsx","_jsx","jsxs","_jsxs","SchedulePage","user","currentDate","setCurrentDate","Date","scheduleData","setScheduleData","getWorkers","params","result","fetch","concat","data","json","console","dir","URLSearchParams","year","getFullYear","month","getMonth","goToPreviousMonth","goToNextMonth","className","children","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","id","WorkerData","parseInt","remain_Day"],"sources":["/Users/HJ/Desktop/projectes/Renew_schedule/renew_schdule/client/src/pages/SchedulePage.jsx"],"sourcesContent":["// 스케줄 표 컴포넌트\nimport { useState, useMemo, useEffect, useCallback } from 'react'\nimport ScheduleTable from '../Components/ScheduleTable'\nimport { useAuth } from '../Contexts/Auth'\n\nfunction SchedulePage() {\n  const { user } = useAuth()\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [scheduleData, setScheduleData] = useState(null)\n\n  const getWorkers = useCallback(async (params) => {\n    const result = await fetch(`/api/getSchedule?${params}`)\n    const data = await result.json()\n    console.dir(data)\n    setScheduleData(data)\n  }, [])\n\n  useEffect(() => {\n    const params = new URLSearchParams({\n      year: currentDate.getFullYear(),\n      month: currentDate.getMonth() + 1,\n    })\n    getWorkers(params)\n  }, [currentDate])\n\n  const goToPreviousMonth = () => {\n    setCurrentDate(\n      new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1)\n    )\n  }\n\n  const goToNextMonth = () => {\n    setCurrentDate(\n      new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1)\n    )\n  }\n\n  return (\n    <div className='bg-gray-50 min-h-screen font-sans'>\n      <main className='p-4 sm:p-6 lg:p-8'>\n        <div className='max-w-7xl mx-auto'>\n          <div className='flex justify-center items-center mb-6'>\n            <button\n              onClick={goToPreviousMonth}\n              className='p-2 rounded-full hover:bg-gray-200 transition-colors'\n            >\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                className='h-6 w-6 text-gray-600'\n                fill='none'\n                viewBox='0 0 24 24'\n                stroke='currentColor'\n              >\n                <path\n                  strokeLinecap='round'\n                  strokeLinejoin='round'\n                  strokeWidth='2'\n                  d='M15 19l-7-7 7-7'\n                />\n              </svg>\n            </button>\n            <h1 className='text-xl sm:text-2xl font-bold text-gray-800 w-40 sm:w-48 text-center mx-2'>\n              {currentDate.getFullYear()}년 {currentDate.getMonth() + 1}월\n            </h1>\n            <button\n              onClick={goToNextMonth}\n              className='p-2 rounded-full hover:bg-gray-200 transition-colors'\n            >\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                className='h-6 w-6 text-gray-600'\n                fill='none'\n                viewBox='0 0 24 24'\n                stroke='currentColor'\n              >\n                <path\n                  strokeLinecap='round'\n                  strokeLinejoin='round'\n                  strokeWidth='2'\n                  d='M9 5l7 7-7 7'\n                />\n              </svg>\n            </button>\n          </div>\n\n          <ScheduleTable scheduleData={scheduleData} getWorkers={getWorkers} />\n\n          {user && user.id < 4 && (\n            <div className='mt-6 flex items-center justify-end space-x-4 text-sm text-gray-600'>\n              <div className='flex items-center'>\n                <span\n                  className={`w-4 h-4 rounded-full mr-2 border ${scheduleData && scheduleData.WorkerData[parseInt(user.id)].remain_Day >= 0 ? 'bg-blue-100' : 'bg-red-100'} border-blue-300`}\n                ></span>\n                {scheduleData && (\n                  <span>{`${scheduleData.WorkerData[parseInt(user.id)].remain_Day >= 0 ? '사용 가능한 대체 휴무 : ' + scheduleData.WorkerData[parseInt(user.id)].remain_Day : '해야 할 대체 근무 : ' + -scheduleData.WorkerData[parseInt(user.id)].remain_Day}`}</span>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default SchedulePage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}