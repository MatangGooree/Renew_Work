{"ast":null,"code":"// 스케줄 표 컴포넌트\nimport{useState,useMemo,useEffect}from'react';import ScheduleTable from'../Components/ScheduleTable';import{GetCalData}from'../Utils/GetCalender';import{GetSchedule}from'../Utils/GetSchedule';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SchedulePage(_ref){let{onLogout}=_ref;const[Workers,setWorkers]=useState([]);const[currentDate,setCurrentDate]=useState(new Date());const[monthDetails,setMonthDetails]=useState();const currentYear=currentDate.getFullYear();const currentMonth=currentDate.getMonth();// 0-11\nuseEffect(()=>{async function getWorkers(){const result=await fetch(\"/DB/getWorkers\");const data=await result.json();console.log(data);setWorkers(data);}getWorkers();},[]);useEffect(async()=>{const temp=await GetCalData(currentYear,currentMonth);console.log(temp);setMonthDetails(temp);},[currentYear,currentMonth]);const scheduleData=useMemo(()=>GetSchedule(Workers,monthDetails.length,currentYear,currentMonth),[monthDetails]);const goToPreviousMonth=()=>{setCurrentDate(new Date(currentYear,currentMonth-1,1));};const goToNextMonth=()=>{setCurrentDate(new Date(currentYear,currentMonth+1,1));};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 min-h-screen font-sans\",children:/*#__PURE__*/_jsx(\"main\",{className:\"p-4 sm:p-6 lg:p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:goToPreviousMonth,className:\"p-2 rounded-full hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl sm:text-2xl font-bold text-gray-800 w-40 sm:w-48 text-center mx-2\",children:[currentYear,\"\\uB144 \",currentMonth+1,\"\\uC6D4\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:goToNextMonth,className:\"p-2 rounded-full hover:bg-gray-200 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5l7 7-7 7\"})})})]}),/*#__PURE__*/_jsx(ScheduleTable,{monthDetails:monthDetails,Workers:Workers,scheduleData:scheduleData}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center justify-end space-x-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full bg-blue-100 mr-2 border border-blue-300\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC8FC\\uAC04/\\uC57C\\uAC04\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-4 h-4 rounded-full bg-gray-200 mr-2 border border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD734\\uBB34\"})]})]})]})})});}export default SchedulePage;","map":{"version":3,"names":["useState","useMemo","useEffect","ScheduleTable","GetCalData","GetSchedule","jsx","_jsx","jsxs","_jsxs","SchedulePage","_ref","onLogout","Workers","setWorkers","currentDate","setCurrentDate","Date","monthDetails","setMonthDetails","currentYear","getFullYear","currentMonth","getMonth","getWorkers","result","fetch","data","json","console","log","temp","scheduleData","length","goToPreviousMonth","goToNextMonth","className","children","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["/Users/HJ/Desktop/projectes/Renew_schedule/renew_schdule/client/src/pages/SchedulePage.jsx"],"sourcesContent":["// 스케줄 표 컴포넌트\nimport { useState, useMemo, useEffect } from 'react';\nimport ScheduleTable from '../Components/ScheduleTable';\nimport { GetCalData } from '../Utils/GetCalender';\nimport { GetSchedule } from '../Utils/GetSchedule';\n\nfunction SchedulePage({ onLogout }) {\n  const [Workers, setWorkers] = useState([]);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [monthDetails, setMonthDetails] = useState();\n\n  const currentYear = currentDate.getFullYear();\n  const currentMonth = currentDate.getMonth(); // 0-11\n\n  useEffect(() => {\n    async function getWorkers() {\n      const result = await fetch(`/DB/getWorkers`);\n      const data = await result.json();\n      console.log(data);\n      setWorkers(data);\n    }\n    getWorkers();\n  }, []);\n\n  useEffect(async () => {\n    const temp = await GetCalData(currentYear, currentMonth);\n    console.log(temp);\n    setMonthDetails(temp);\n  }, [currentYear, currentMonth]);\n\n  const scheduleData = useMemo(() => GetSchedule(Workers, monthDetails.length, currentYear, currentMonth), [monthDetails]);\n\n  const goToPreviousMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth - 1, 1));\n  };\n\n  const goToNextMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth + 1, 1));\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen font-sans\">\n      <main className=\"p-4 sm:p-6 lg:p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex justify-center items-center mb-6\">\n            <button onClick={goToPreviousMonth} className=\"p-2 rounded-full hover:bg-gray-200 transition-colors\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </button>\n            <h1 className=\"text-xl sm:text-2xl font-bold text-gray-800 w-40 sm:w-48 text-center mx-2\">\n              {currentYear}년 {currentMonth + 1}월\n            </h1>\n            <button onClick={goToNextMonth} className=\"p-2 rounded-full hover:bg-gray-200 transition-colors\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </button>\n          </div>\n\n          <ScheduleTable monthDetails={monthDetails} Workers={Workers} scheduleData={scheduleData} />\n\n          <div className=\"mt-6 flex items-center justify-end space-x-4 text-sm text-gray-600\">\n            <div className=\"flex items-center\">\n              <span className=\"w-4 h-4 rounded-full bg-blue-100 mr-2 border border-blue-300\"></span>\n              <span>주간/야간</span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"w-4 h-4 rounded-full bg-gray-200 mr-2 border border-gray-300\"></span>\n              <span>휴무</span>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default SchedulePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}