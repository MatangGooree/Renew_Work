{"ast":null,"code":"//년, 월 입력 시 달력 출력\nasync function GetCalData(currentYear,currentMonth){const today=new Date();const isCurrentMonthView=today.getFullYear()===currentYear&&today.getMonth()===currentMonth;const todaysDate=isCurrentMonthView?today.getDate():null;const daysInMonth=new Date(currentYear,currentMonth+1,0).getDate();const dayLabels=['일','월','화','수','목','금','토'];const Anniversaries=await getAnniData(currentYear,currentMonth);console.log(Anniversaries);return Array.from({length:daysInMonth},(_,i)=>{const date=i+1;const dayOfWeek=new Date(currentYear,currentMonth,date).getDay();// 0: Sun, 6: Sat\nconst dailyAnniversaries=Anniversaries.filter(anni=>{return parseInt(anni.locdate)===date;// assuming anni.locdate is a string representing the day\n});return{date,dayLabel:dayLabels[dayOfWeek],isWeekend:dayOfWeek===0||dayOfWeek===6,isToday:date===todaysDate,Anniversary:dailyAnniversaries};});}//공휴일 불러오기\nasync function getAnniData(currentYear,currentMonth){try{var _result$data,_result$data$response,_result$data$response2,_result$data$response3;const response=await fetch(\"/api/anniversary?year=\".concat(currentYear,\"&month=\").concat(currentMonth));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();// API 응답 구조에 따라 안전하게 데이터 접근 및 상태 업데이트\nconst items=result===null||result===void 0?void 0:(_result$data=result.data)===null||_result$data===void 0?void 0:(_result$data$response=_result$data.response)===null||_result$data$response===void 0?void 0:(_result$data$response2=_result$data$response.body)===null||_result$data$response2===void 0?void 0:(_result$data$response3=_result$data$response2.items)===null||_result$data$response3===void 0?void 0:_result$data$response3.item;console.log(items);if(Array.isArray(items)){return items;}else if(items){return[items];}else{// 데이터가 없거나 예상치 못한 구조인 경우\nreturn[];}}catch(error){console.error('기념일 데이터를 가져오는 중 오류 발생:',error);return[];}}export{getAnniData,GetCalData};","map":{"version":3,"names":["GetCalData","currentYear","currentMonth","today","Date","isCurrentMonthView","getFullYear","getMonth","todaysDate","getDate","daysInMonth","dayLabels","Anniversaries","getAnniData","console","log","Array","from","length","_","i","date","dayOfWeek","getDay","dailyAnniversaries","filter","anni","parseInt","locdate","dayLabel","isWeekend","isToday","Anniversary","_result$data","_result$data$response","_result$data$response2","_result$data$response3","response","fetch","concat","ok","Error","status","result","json","items","data","body","item","isArray","error"],"sources":["/Users/HJ/Desktop/projectes/Renew_schedule/renew_schdule/client/src/Utils/GetCalender.js"],"sourcesContent":["//년, 월 입력 시 달력 출력\n\nasync function GetCalData(currentYear, currentMonth) {\n  const today = new Date();\n  const isCurrentMonthView = today.getFullYear() === currentYear && today.getMonth() === currentMonth;\n  const todaysDate = isCurrentMonthView ? today.getDate() : null;\n\n  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n  const dayLabels = ['일', '월', '화', '수', '목', '금', '토'];\n  const Anniversaries = await getAnniData(currentYear, currentMonth);\n\n  console.log(Anniversaries);\n\n  return Array.from({ length: daysInMonth }, (_, i) => {\n    const date = i + 1;\n    const dayOfWeek = new Date(currentYear, currentMonth, date).getDay(); // 0: Sun, 6: Sat\n\n    const dailyAnniversaries = Anniversaries.filter((anni) => {\n      return parseInt(anni.locdate) === date; // assuming anni.locdate is a string representing the day\n    });\n    return {\n      date,\n      dayLabel: dayLabels[dayOfWeek],\n      isWeekend: dayOfWeek === 0 || dayOfWeek === 6,\n      isToday: date === todaysDate,\n      Anniversary: dailyAnniversaries,\n    };\n  });\n}\n\n//공휴일 불러오기\nasync function getAnniData(currentYear, currentMonth) {\n  try {\n    const response = await fetch(`/api/anniversary?year=${currentYear}&month=${currentMonth}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const result = await response.json();\n\n    // API 응답 구조에 따라 안전하게 데이터 접근 및 상태 업데이트\n    const items = result?.data?.response?.body?.items?.item;\n    console.log(items);\n    if (Array.isArray(items)) {\n      return items;\n    } else if (items) {\n      return [items];\n    } else {\n      // 데이터가 없거나 예상치 못한 구조인 경우\n      return [];\n    }\n  } catch (error) {\n    console.error('기념일 데이터를 가져오는 중 오류 발생:', error);\n    return [];\n  }\n}\n\nexport { getAnniData, GetCalData };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}